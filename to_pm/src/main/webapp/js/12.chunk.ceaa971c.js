webpackJsonp([12,13],{38:function(t,e,r){var n,i;(function(a){n=[r(39)],i=function(t){var e={getPathParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=window.location.search.substring(1).match(e);return null!=r?decodeURIComponent(r[2]):""},getUrlParms:function(){for(var t=new Object,e=location.search.substring(1),r=e.split("&"),n=0;n<r.length;n++){var i=r[n].indexOf("=");if(i!=-1){var a=r[n].substring(0,i),o=r[n].substring(i+1);t[a]=unescape(o)}}return t},createHeaderJSElement:function(t){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},createHeaderCSSElement:function(t){var e=document.createElement("link");e.setAttribute("type","text/css"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),document.getElementsByTagName("head")[0].appendChild(e)},htmlEncode:function(t){var e=t+"";return""==e?e:e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(new RegExp('"',"g"),"&quot;").replace(new RegExp("'","g"),"&#39;").replace(new RegExp("  ","g")," &nbsp;").replace(new RegExp("\r|\n","g"),"<br/>")},htmlTitleEncode:function(e){t.nullOrEmpty(e)&&(e="");var r=e+"";return""==r?r:r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(new RegExp('"',"g"),"&quot;").replace(new RegExp("'","g"),"&#39;").replace(new RegExp("\r|\n","g"),"&#13")},htmlDecode:function(t){var e=t+"";return""==e?e:e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/ &nbsp;/g,"  ").replace(/&amp;/g,"&")},tipsDIV:function(t,r,n,i,n){jTip(e.htmlEncode(t),r,i,n)},alertDIV:function(t,r,n){jAlert(e.htmlEncode(t),r,n)},confirmDIV:function(t,e,r,n){jConfirm(t,e,r,n)},getMsg:function(t){var e=xy_msg[t];return null!=e&&""!=e||(e=t),e},getMessage:function(t){if(0==arguments.length)return"";t+="";for(var e=1;e<arguments.length;e++){var r="\\{"+e+"\\}",n=arguments[e]+"";t=t.replaceAll(r,n)}return t},restCallback:function(t,r,n){try{if(t.code==-10){var i=t.msg;return void jAlert(i,function(){location.href="/user/logout"})}if(0!=t.code){var i=t.msg;return n?(e.hideLock(),void n(t.code,t,i)):(e.alertDIV(i,function(){}),void e.hideLock())}switch(e.hideLoadingCard(),e.hideLock(),typeof r){case"string":alertDIV(r);break;case"function":r(t.data)}}catch(a){e.hideLock()}},showLoadingCard:function(t){var e=a("#loading_small");0!=e.length?e.show():(e='<div id="loading_small"><img src="../images/ajax_loader.gif" alt="" /></div>',a("#navigation").append(e))},hideLoadingCard:function(){a("#loading_small").hide()},callbackRb:function(t){a.browser.msie?(t.appendTo(a("#rubbish")),a("#rubbish").html("")):t.remove()},stopPop:function(t){try{t.stopPropagation()}catch(t){t.cancelBubble}},isIe:function(){return!!a.browser.msie},onloadImg:function(t,e,r){var n=new Image;if(n.onload=function(){e&&"function"==typeof e&&e(t)},!n.complete)var i=setInterval(function(){if(n.complete)return e&&"function"==typeof e&&e(t),clearInterval(i),!1},500);n.onerror=function(){r&&"function"==typeof r&&r()},n.src=t},hiddenOnMouseDown:function(t){document.onmousedown=function(){var e=a("#"+t);1==e.is(":visible")&&e.hide()},a("#"+t).mousedown(function(t){t.stopPropagation()})},getUrlAddress:function(){var t=window.location.href,e=t.split("/");return e[0]+"//"+e[1]+e[2]+"/"+e[3]},lockScreen:function(){var t=document.documentElement.clientWidth,e=a(document).height();document.documentElement.style.overflow="hidden";var r=a("#loading_layer");0!=r.length?(a(".loading_layer_body").empty(),a(".loading_layer_body").html("<img src='../images/ajax_loader.gif' alt='' />"),r.css({width:t+"px",height:e+"px"}),r.show()):r='<div id="loading_layer" style="width:'+t+"px;height:"+e+'px;"><div class="loading_layer_body"><img src="../images/ajax_loader.gif" alt="" /></div></div>',a("body").append(a(r))},hideLock:function(){a("#loading_layer").hide(),document.documentElement.style.overflow=""},showAjaxOverlay:function(t,e,r){var n=t.outerWidth(!0),i=t.outerHeight(!0),o=a(window).scrollTop(),s=a("#ajax_overlay");0!=s.length?(s.css({width:n+"px",height:i+"px"}),s.find(".ajax_overlay_img").css("margin-top",(i+o-50)/2+"px"),s.show()):(t.addClass("pr"),s='<div style="width:'+n+"px;height:"+i+'px" id="ajax_overlay"><div class="ajax_overlay_img" style="text-align:center;margin-top:'+(i+o-50)/2+'px"><img src="/images/loading.gif" alt="" /><p class="loadingText">'+(void 0==e?"":e)+"</p></div></div>"),t.append(a(s))},hideAjaxOverlay:function(){a("#ajax_overlay").hide()},initImgUpload:function(r,n){var i="/.tmp/",o=5,s=a("#"+r.fileBtnId),l=".jpg,.bmp,.png";r.accessoryId&&s.on("mousedown",function(){if(a("#"+r.accessoryId).children(".img-list:visible").length>=o)return alertDIV(STATICMSG[1018]),!1}),a("#"+r.formId).attr({enctype:"multipart/form-data",action:"/upload/photo/",method:"post"}),a("#"+r.formId).submit(function(){return a(this).ajaxSubmit({error:function(t){status("Error: "+t.status)},success:function(t){t=JSON.parse(t),a("#"+r.photoId).attr("src",i+t.filename),a("#"+r.dataId).val(t.filename),e.hideLock()}}),!1}),s.change(function(){var t=[],n=s.val();t=n.split("\\"),n=t[t.length-1];var i=n.substring(n.lastIndexOf(".")+1).toLowerCase();return l.indexOf(i)==-1?(alertDIV(e.getMessage(STATICMSG[1019],l)),!1):(e.lockScreen(),void a("#"+r.formId).trigger("submit"))}),a("#"+r.delBtnId).on("click",function(){a(this).hide(),a("#"+r.dataId).val(""),t.nullOrEmpty(r.photoId)||(a("#"+r.photoId).parent().hide(),a("#"+r.photoId).attr("src",""))}),a("#"+r.photoId).on("click",function(){window.open(a(this).attr("src"))})},getAll:function(){var t,e={};t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.open("GET","/static/script/positionTmp.txt",!1),t.send();var r={firstLevel:[],secondLevel:{}},e=r.secondLevel;return t.responseText.replace(/.+/g,function(t){var n=t.toString().split("\t");a.inArray(n[0],r.firstLevel)==-1&&r.firstLevel.push(n[0]),e[n[0]]||(e[n[0]]={}),n[2]?(e[n[0]][n[1]]||(e[n[0]][n[1]]=[]),e[n[0]][n[1]].push(n[2])):(e[n[0]][n[0]]||(e[n[0]][n[0]]=[]),e[n[0]][n[0]].push(n[1]))}),r},createMultilevelSelectHTML:function(t){var e=[],r=t.data||this.getAll();e.push('<div class="options-picker" style="display: none;">'),e.push('<div><div class="first-level-content">'),e.push('<div  _value="" class="pick-all-first"><input type="checkbox" class="check-all-first"/><span class="li-text ml5"><b>全部</b></span></div>');var n=r.firstLevel,i=0;return a.each(n,function(t){i++,e.push('<div  _value="'+n[t]+'" class="picker-first-level"><input id="checkbox_'+i+'" type="checkbox" class="checkbox-first-item" value="'+n[t]+'"/><span class="li-text ml5">'+n[t]+"</span></div>")}),e.push("</div>"),e.push('<div classs="next-level-content">'),i=0,a.each(n,function(t){i++,e.push('<div class="picker-next-level" style="display: none;" _title="'+n[t]+'">');var o=r.secondLevel[n[t]];if(!o)return e.push("</div>"),void e.push("</div>");a.isEmptyObject(o)||e.push('<div  class="pick-all-second ver-middle" ><input type="checkbox" class="check-all-second"/><span class="picker-second-title ml5">全部</span></div>');var s=0;a.each(o,function(r,o){return e.push('<div  class="mt10 mb10 ver-middle pick-second-item" style="text-align: left;">'),n[t]!=r&&(s++,e.push('<input id="checkbox_'+i+"_"+s+'" type="checkbox"  class="checkbox-second-item" value="'+r+'"/><span class="picker-second-title ml5">'+r+"</span>")),e.push('<div class="picker-three-level clearfix " style="display: block;">'),o&&0!=o.length?(a.each(o,function(a){o[a+1]?e.push('<div  class="mt10 ver-middle" f-data="'+n[t]+'" s-data="'+r+'"><input id="checkbox_'+i+"_"+s+"_"+(a+1)+'" type="checkbox"  class="checkbox-third-item" value="'+o[a]+'"/><span class="li-text ml5"  >'+o[a]+"</span>&nbsp;&nbsp;|&nbsp;&nbsp;</div>"):e.push('<div  class="mt10 ver-middle" f-data="'+n[t]+'" s-data="'+r+'"><input id="checkbox_'+i+"_"+s+"_"+(a+1)+'" type="checkbox"  class="checkbox-third-item" value="'+o[a]+'"/><span class="li-text ml5" >'+o[a]+"</span></div>")}),e.push("</div>"),void e.push("</div>")):(e.push("</div>"),void e.push("</div>"))}),e.push("</div>")}),e.push("</div>"),e.join("")},resResult:function(t,r,n){try{var i=a(document).height();if(a("#loading_layer").css("height",i+"px"),a("#loading_layer").show(),t.code==-10||t.code==-11){a(".loading_layer_body").empty();var r=t.msg;return a(".loading_layer_body").text(r),void(window.location.href="")}if(0!=t.code){a(".loading_layer_body").empty();var r=t.msg;return a(".loading_layer_body").text(r),void setTimeout(function(){e.hideLock(),n()},2e3)}r?(a(".loading_layer_body").empty(),a(".loading_layer_body").text(r),setTimeout(function(){e.hideLock(),n&&n()},2e3)):e.hideLock()}catch(o){e.hideLock()}},tips:function(t){try{var r=a(document).height();a("#loading_layer").css("height",r+"px"),a("#loading_layer").show(),t?(a(".loading_layer_body").empty(),a(".loading_layer_body").text(t),setTimeout(function(){e.hideLock()},2e3)):e.hideLock()}catch(n){e.hideLock()}}};return e}.apply(e,n),!(void 0!==i&&(t.exports=i))}).call(e,r(33))},39:function(t,e,r){var n,i;(function(a){n=[r(40),r(41)],i=function(t,e){var r={initAutoValidator:function(){var t=this;a(document).on("blur.validator","[validator]",function(e){t.validator(e.target,!0)})},getValidatorRules:function(t){var e=[];return null!=a(t).attr("validator")&&(e=a.trim(a(t).attr("validator")).split(" ")),a(t).closest("[removeDefaultRules]").length||(e.reverse(),e.push("char"),e.reverse()),e},getValidatorValue:function(t){var e="",r=t.tagName;switch(r.toUpperCase()){case"INPUT":case"TEXTAREA":e=a.trim(a(t).val());break;case"CITE":if("radio"==a(t).attr("type")){var n=a(t).attr("name"),i=a("cite[name='"+n+"'].checked");i.length>0&&this.notNullOrEmpty(i.eq(0).attr("value"))&&(e=i.eq(0).attr("value"))}else if("checkbox"==a(t).attr("type")){var n=a(t).attr("name"),o=[];a("cite[name='"+n+"'].checked").each(function(){o.push(a(this).attr("value"))}),e=o.join(",")}else e=a.trim(a(t).text());break;default:e=a.trim(a(t).text())}return e.toString()},getErrorTips:function(t,e){return a(t).attr("errorTipsId")&&a("#"+a(t).attr("errorTipsId")).length>0?a("#"+a(t).attr("errorTipsId")).removeClass("u-error").addClass("u-error"):a(t).siblings("p.errorTips").length>0?(a(t).siblings("p.errorTips").removeClass("u-error").addClass("u-error"),a(t).siblings("p.errorTips").eq(0)):(a(t).parent().append("<p class='u-error errorTips closeToHide'></p>"),a(t).siblings("p.errorTips").eq(0))},getErrorTipsKey:function(t){return a(t).attr("errorTipsKey")||""},validator:function(t,n){var i=this,o=t.nodeType;if(1!=o)return!0;var s=this.getValidatorRules(t),l=this.getValidatorValue(t),c=this.getErrorTips(t,n),u=this.getErrorTipsKey(t);if(a.inArray("same",s)>-1&&!this.sameValidator(t))return!1;if(""==l&&a.inArray("notNullOrEmpty",s)==-1&&a.inArray("notNullOrEmptySelect",s)==-1)return c.removeAttr("title"),c.hide(),!0;try{for(var d=0,p=s.length;d<p;d++)if("same"!=s[d]){var h=this[s[d]](l,t);if(!h){if("notNullOrEmpty"==s[d]&&1==n)return c.hide(),!1;"notNullOrEmptySelect"==s[d]&&a(t).parent(".select-warp").addClass("error-input"),a(t).parent().find("input").addClass("error-input");var g=r.getMessage(e["VALIDATOR_"+s[d].toUpperCase()],u);return c.text(i.htmlTitleEncode(g)),c.show(),!1}"notNullOrEmptySelect"==s[d]&&a(t).parent(".select-warp").removeClass("error-input")}for(var f=[["min","max"]],d=0,p=f.length;d<p;d++)if(!this.attrValidator(t,f[d]))return!1;return c.removeAttr("title"),c.hide(),c.parent().find("input").removeClass("error-input"),!0}catch(v){var g=r.getMessage(e.VALIDATOR_UNKNOWNERROR);return c.text(i.htmlTitleEncode(g)),c.show(),!1}},autoValidator:function(t){var e=!0,r=this;return t.find("[validator]").each(function(){var t=r.validator(this);t||(e=t)}),e},sameValidator:function(t){var n=this,i=this.getValidatorValue(t),o=this.getErrorTips(t),s=this.getErrorTipsKey(t);if(this.nullOrEmpty(a(t).attr("equalTo")))return!0;var l=a(a(t).attr("equalTo"))[0],c=this.getValidatorValue(l);if(c!=i){var u=r.getMessage(e.VALIDATOR_SAME,s);return o.text(n.htmlTitleEncode(u)),o.show(),!1}return!0},attrValidator:function(t,n){var i=this,o=this.getValidatorValue(t),s=this.getErrorTips(t),l=this.getErrorTipsKey(t);if(n instanceof Array){for(var c=0,u=n.length;c<u;c++)if(!this.attrValidator(t,n[c])){var d=this.getErrorMsg(t,n);return s.text(i.htmlTitleEncode(d)),s.show(),!1}return!0}if(n+="",this.nullOrEmpty(a(t).attr(n)))return!0;if(this[n](o,a(t).attr(n)))return!0;var p="VALIDATOR_"+n.toUpperCase(),d=r.getMessage(e[p],l);return s.text(i.htmlTitleEncode(d)),s.show(),!1},getMessage:function(t){if(0==arguments.length)return"";t+="";for(var e=1;e<arguments.length;e++){var r="\\{"+e+"\\}",n=arguments[e]+"";t=t.replaceAll(r,n)}return t},getErrorMsg:function(t,n){for(var i=this.getErrorTipsKey(t),o=[],s="",l="",c=0,u=n.length;c<u;c++)s="VALIDATOR_"+n[c].toUpperCase(),this.nullOrEmpty(a(t).attr(n[c]))||(l=o.length?e[s].replaceAll("\\{1\\}",""):e[s],o.push(r.getMessage(l,i,a(t).attr(n[c]))));return o.join(",")},htmlTitleEncode:function(t){this.nullOrEmpty(t)&&(t="");var e=t+"";return""==e?e:e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(new RegExp('"',"g"),"&quot;").replace(new RegExp("'","g"),"&#39;").replace(new RegExp("\r|\n","g"),"&#13")},"char":function(t){return/^[\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;:#]*$|^([\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;:#])+([\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;:# ])+([\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;:#])+$/.test(t)},isNull:function(t){return null==t},isEmpty:function(t){return null!=t&&0==t.length},notNullOrEmpty:function(t){return!r.nullOrEmpty(t)},notNullOrEmptySelect:function(t){return!r.nullOrEmpty(t)},nullOrEmpty:function(t){return null==t||0==t.length},number:function(t){return t==parseInt(t,10)&&(t+"").indexOf("-")==-1&&(t+"").indexOf(".")==-1},numberPoint:function(t){return/^(?!(0[0-9]{0,}$))[0-9]{1,}[.]{0,}[0-9]{0,}$/.test(t)},email:function(t){return/^([a-z0-9A-Z]+[-|\.|_]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/.test(t)},moreEmail:function(t){return/^[a-zA-Z0-9]+([._\\-]*[a-zA-Z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.{1}){1,63}[a-z0-9]+$/.test(t)},phoneEmail:function(t){var e=/^((0?1\d{10})|((0(\d{2,3}))[\-]?\d{7,8}))$|^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})$/.test(t),r=/^([a-z0-9A-Z]+[-|\.|_]?)+[a-z0-9A-Z]@([a-z0-9A-Z]+(-[a-z0-9A-Z]+)?\.)+[a-zA-Z]{2,}$/.test(t);if(e||r)return!0},companyEmail:function(t){return!/^$|^(([a-zA-Z0-9])+([a-zA-Z0-9-_.]{1,})@(qq|163|126|sina|gmail|outlook|yeah|aliyun|139|189).[a-zA-Z0-9\.\_]{2,})$/.test(t)},pwdlength:function(t){return/^$|^(([a-zA-Z0-9]){8,16})$/.test(t)},pwdFormat:function(t){return/^(?!\d+$)(?![A-Za-z]+$)[a-zA-Z0-9]{8,16}$/.test(t)},notes:function(t){return/^[\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;#@]*$|^([\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;#@])+([\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;#@ ])+([\u4E00-\u9FA5a-zA-Z0-9\/＋\[\]\w\-\(\).（）;#@])+$/.test(t)},phone:function(t){return/^([0-9\-]{5,})?$/.test(t)},telPhone:function(t){return/^((0?1\d{10})|((0(\d{2,3}))[\-]?\d{7,8}))$|^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})$/.test(t)},memo:function(t){return t.length>250},isDefined:function(t){return null!=t&&"undefined"!=typeof t},isURL:function(t){return/^((https?|ftp|news):\/\/)?([a-z]([a-z0-9\-]*[\.。])+([a-z]{2}|aero|arpa|biz|com|coop|edu|gov|info|int|jobs|mil|museum|name|nato|net|org|pro|travel)|(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))(\/[a-z0-9_\-\.~]+)*(\/([a-z0-9_\-\.]*)(\?[a-z0-9+_\-\.%=&]*)?)?(#[a-z][a-z0-9_]*)?$/.test(t)},identityCode:function(t){if(!/^([\d]{15}|[\d]{17}[Xx\d])$/.test(t))return!1;var e;e=15==t.length?"19"+t.substr(6,2)+"-"+t.substr(8,2)+"-"+t.substr(10,2):t.substr(6,4)+"-"+t.substr(10,2)+"-"+t.substr(12,2);var r=new Date;return r.setCNDate(e),e==r.format()},brithday:function(t){if(!/^([\d]{4}-[\d]{2}-[\d]{2})$/.test(t))return!1;var e=new Date;return e.setCNDate(t),t==e.format()},bandWidth:function(t){return/^\d+(.\d+)?$/.test(t)},min:function(t,e){var r=parseInt(t,10),e=parseInt(e,10);return!isNaN(r)&&!isNaN(e)&&e<=r},max:function(t,e){var r=parseInt(t,10),e=parseInt(e,10);return!isNaN(r)&&!isNaN(e)&&e>=r},decimalPoint:function(t){var e=/^[0-9]+([.]{1}[0-9]{1,2})?$/;return!!e.test(t)}};return r}.apply(e,n),!(void 0!==i&&(t.exports=i))}).call(e,r(33))},40:function(t,e,r){(function(t){String.prototype.replaceAll=function(t,e){try{return this.replace(new RegExp(t,"gm"),e)}catch(r){return this}},String.prototype.toSqlString=function(){try{return this.replaceAll("/","//")}catch(t){return this}},String.prototype.startWith=function(t){var e=new RegExp("^"+t);return e.test(this)},Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),"S+":this.getMilliseconds()};t||(t="yyyy-MM-dd"),/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(S+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getMilliseconds()+"").substr(3-RegExp.$1.length)));for(var r in e)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[r]:("00"+e[r]).substr((""+e[r]).length)));return t},Date.prototype.getCNDay=function(){var t={0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"};return t[this.getDay()]},Date.prototype.setCNDate=function(e){if(e){var r=t.trim(e).split(" "),n=r[0].split("-"),i="19"+n[0];i=parseInt(i.substring(i.length-4,i.length),10),isNaN(i)&&(i=this.getFullYear());var a=this.getMonth();if(n.length>1){var o=parseInt(n[1],10);isNaN(o)||(a=o-1)}var s=this.getDate();if(n.length>2){var l=parseInt(n[2],10);isNaN(l)||(s=l)}if(this.setFullYear(i,a,s),!(r.length<2)){var c=r[1].split(":"),u=this.getHours(),d=parseInt(c[0],10);isNaN(d)||(u=d);var p=this.getMinutes();if(c.length>1){var h=parseInt(c[1],10);isNaN(h)||(p=h)}var g=this.getSeconds();if(c.length>2){var f=parseInt(c[2],10);isNaN(f)||(g=f)}var v=this.getMilliseconds();if(c.length>3){var m=parseInt(c[3],10);isNaN(m)||(v=m)}this.setHours(u,p,g,v)}}},Array.prototype.joinAll=function(t){for(var e=0,r=this.length;e<r;e++)this[e]instanceof Array&&(this[e]=this[e].joinAll(t));return this.join(t)},Array.prototype.last=function(){return this[this.length>0?this.length-1:0]}}).call(e,r(33))},41:function(t,e,r){var n;n=function(){return{VALIDATOR_UNKNOWNERROR:"未知的校验错误",VALIDATOR_CHAR:"不满足基础校验规则",VALIDATOR_NOTNULLOREMPTY:"请输入{1}",VALIDATOR_NOTNULLOREMPTYSELECT:"请选择{1}",VALIDATOR_PHONE:"{1}不符合规则",VALIDATOR_TELPHONE:"{1}不符合规则",VALIDATOR_LANDLINE:"请输入{1}",VALIDATOR_NUMBER:"{1}不是有效数值",VALIDATOR_SAME:"两次输入的{1}不一致",VALIDATOR_EMAIL:"请输入正确的邮箱地址，如example@jipin.com",VALIDATOR_MOREEMAIL:"{1}不符合规则",VALIDATOR_COMPANYEMAIL:"请输入以企业域名为后缀的邮箱地址",VALIDATOR_IDENTITYCODE:"{1}不符合身份证号码规则",VALIDATOR_DECIMALPOINT:"{1}必须为数字且最多只能保留两位小数",VALIDATOR_PWDLENGTH:"密码位数为8-16位",VALIDATOR_PWDFORMAT:"输入8-16位包含字母、数字的密码",VALIDATOR_ISURL:"不是正确的网址格式",VALIDATOR_NUMBERPOINT:"{1}不符合规则",VALIDATOR_PHONEEMAIL:"请输入正确手机号码或邮箱",VALIDATOR_MIN:"{1}必须大于或者等于{2}",VALIDATOR_MAX:"{1}必须小于或者等于{2}",BEYOND_MAX_LENGTH:"{1}过长。",BEYOND_MIN_LENGTH:"{1}过短。",COMMON_LOADING_TEXT:"loading..."}}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))},51:function(t,e,r){var n,i;(function(a){n=[r(38)],i=function(t){var e=avalon.define({$id:"account",isSumbit:!1,user_name:"",user_account:"",user_password:"",email_hint:!0,newlist:[],uid:"",_id:"",type:"",_type:null,short_id:"",username:"",identity:"",toggle:!1,list:{page:1,force:!0,user_id:""},count:0,bigList:[],smallList:[],userList:[],powerList:[],skipId:{},pager:{currentPage:1,totalItems:0,showJumper:!0,alwaysShowNext:!0,alwaysShowPrev:!0,prevText:"上一页",nextText:"下一页",onJump:function(t,r){var n={force:!1,page:r.currentPage,user_id:""};a(".pull_model").slideUp("fast"),e.initList(n)}},show:function(t){var r=t.split(","),t=r[0],n=r[1];if("g"==t.charAt(0)){var i=[];e.newlist=[];var o=a(".J_power").eq(n);e.uid=o.attr("data_userid"),i=o.attr("_powerList").split(","),a("#powerPM_dialog input[type='checkbox']").each(function(){a(this).removeAttr("checked")}),a.each(i,function(t,r){a("#powerPM_dialog input:checkbox[value='"+r+"']").prop("checked",!0),1==r.length&&e.newlist.push(r)});var s=avalon.vmodels[t]}else{e._type=n-0;var s=avalon.vmodels[t]}s&&(s.toggle=!0)},$eeOpts:{title:"创建账号",width:500,onConfirm:function(){e.addAcount(e._type)}},$ggOpts:{title:"操作报告",width:500,onConfirm:function(){e.savePower({user_id:e.uid},e.newlist)}},getPassFromCookie:function(){return window.$.cookie(location.host+"_userinfo")},clearPassToCookie:function(){window.$.cookie(location.host+"_userinfo","",{path:"/"})},toggle_hiddle:function(){e.toggle=!e.toggle},logout:function(){e.clearPassToCookie(),window.location.href=""},initList:function(r,n){t.lockScreen(),a.post("/user/list",r,function(i){if(t.hideLock(),t.resResult(i),0==i.data.data.length)r.user_id?(n.text("暂无数据"),e.list.user_id="",e.list.page=1):(a(".table_li").hide(),a(".null-model").show());else if(a(".null-model").hide(),r.user_id)e.smallList=i.data.data,e.list.user_id="",e.list.page=1;else if(e.count=i.data.count,"2"==e.type?e.userList=i.data.data:"1"==e.type&&(e.bigList=i.data.data),1==r.page){var o=avalon.vmodels.hh;o&&(o.totalItems=i.data.count)}e.domListener()})},domListener:function(){a(".J_click_pull").off().on("click",function(){var r=a(this).text().trim();if("0"==r)return void t.tips("没有子账号");var n=a(this).parent().parent().next();if(n.is(":hidden")){a(".pull_model").slideUp("fast");var i=a(this).find(".smaillList");e.list.user_id=a(this).attr("_id"),e.list.page="",e.initList(e.list.$model,i),n.slideDown("fast")}else e.smallList=[],n.slideUp("fast")}),a(".J_click_skip").off().on("click",function(){var t=a(this).attr("_id");window.location.href="/#!/userInfo/"+t})},addAcount:function(r){if(""==e.user_name||""==e.user_account||""==e.account)return void t.tips("请输入完整信息");if(e.email_hint)return void t.tips("手机或邮箱格式有误");if(!e.isSumbit){var n={username:e.user_username,account:e.user_account,password:e.user_password-0};e.isSumbit=!0,a.post("/user/regist",n,function(n){e.isSumbit=!1,t.resResult(n,"添加账户成功",function(){0==r&&e.initList(e.list.$model)})})}},savePower:function(r,n){var i=[];a.each(a("#powerPM_dialog").find("input[type='checkbox']"),function(t){a(this).is(":checked")&&i.push(a(this).attr("value"))});var o=[];a.each(i,function(t){a.inArray(i[t],n)>-1&&o.push(i[t])});var s=[];a.each(n,function(t){a.inArray(n[t],o)==-1&&s.push(n[t])});var l=[];a.each(i,function(t){a.inArray(i[t],o)==-1&&l.push(i[t])}),a.post("/user/power/add",{user_id:r.user_id,power_del:s.join(","),power:l.join(","),source:"pm"},function(r){t.resResult(r,"设置成功",function(){var t=avalon.vmodels.hh;if(t)var r={page:t.currentPage,user_id:""};e.initList(r)})})}});return e.$watch("user_name",function(){/^[a-z0-9_-]{1,16}$/.test(e.user_username)?a(".user_hint").html("✔").css("color","green"):a(".user_hint").html("×").css("color","red")}),e.$watch("user_account",function(){/^[a-z\d]+(\.[a-z\d]+)*@([\da-z](-[\da-z])?)+(\.{1,2}[a-z]+)+$/.test(e.user_account)?(a(".email_hint").html("✔").css("color","green"),e.email_hint=!1):/^1[34578]\d{9}$/.test(e.user_account)?(a(".email_hint").html("✔").css("color","green"),e.email_hint=!1):(a(".email_hint").html("×").css("color","red"),e.email_hint=!0)}),e.$watch("user_password",function(){/^[a-z0-9_-]{1,16}$/.test(e.user_password)?a(".password_hint").html("✔").css("color","green"):a(".password_hint").html("×").css("color","red")}),e.$skipArray=["pager"],avalon.controller(function(t){avalon.scan(document.body),t.$onRendered=function(){document.title="数联寻英",a("#side_accordion div").removeClass("md-accent-bg").eq(4).addClass("md-accent-bg"),e.initList(e.list.$model)},t.$onEnter=function(t,r,n){var i=e.getPassFromCookie(),a=i.split("|");e._id=a[0],e.type=a[1],e.identity="1"==e.type?"管理员":"2"==e.type?"公司":"业务员",e.powerList="1"==e.type?[{key:"添加账户",val:1},{key:"数据干预",val:2},{key:"添加数据解释",val:3},{key:"报告标签配置",val:4},{key:"系统通知发送",val:5},{key:"权限修改",val:6}]:[{key:"添加数据解释",val:3},{key:"权限修改",val:6}],e.short_id=a[2],e.username=a[3]},t.$onBeforeUnload=function(){a(".oni-dialog").empty()},t.$vmodels=[e]})}.apply(e,n),!(void 0!==i&&(t.exports=i))}).call(e,r(33))}});