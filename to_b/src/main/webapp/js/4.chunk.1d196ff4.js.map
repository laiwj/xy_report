{"version":3,"sources":["webpack:///./src/modules/homePage/homePage.js","webpack:///./src/assets/css/homePage/homePage.css"],"names":[],"mappings":";;;;;0CAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,iBAAiB;AAChD;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC,C;;;;;;;;AC7CD,0C","file":"js/4.chunk.1d196ff4.js","sourcesContent":["require('../../assets/css/homePage/homePage.css');\r\nvar host = require('../../config').requestHost();\r\nvar homePageVm = avalon.define({\r\n    $id: 'homePage',\r\n    userName: '',\r\n    dynamicList: [],\r\n    getNoticeList: function(page) {\r\n        $.post(host + '/notice/list', {\r\n            pageSize: 10,\r\n            page: page || 1\r\n        }, function(data) {\r\n            if (data.code === -10 || data.code === -11) {\r\n                avalon.vmodels.root.showLoading = false;\r\n                avalon.router.go('login');\r\n            }\r\n            if (data.code === 0) {\r\n                var list = data.data.data;\r\n                for (var i = 0; i < list.length; i++) {\r\n                    if (list[i].mess_type === 1) {\r\n                        list[i].mess_title = \"系统消息\";\r\n                    } else {\r\n                        list[i].mess_title = \"账号提醒\";\r\n                    }\r\n                }\r\n                homePageVm.dynamicList = list;\r\n            } else {\r\n                avalon.vmodels.root.showMessage(data.msg);\r\n            }\r\n        })\r\n    }\r\n});\r\nmodule.exports = avalon.controller(function($ctrl) {\r\n    // 视图渲染后，意思是avalon.scan完成\r\n    $ctrl.$onRendered = function() {}\r\n        // 进入视图\r\n    $ctrl.$onEnter = function() {\r\n            homePageVm.userName = avalon.vmodels.root.userName;\r\n            homePageVm.getNoticeList();\r\n        }\r\n        // 对应的视图销毁前\r\n    $ctrl.$onBeforeUnload = function() {\r\n\r\n        }\r\n        // 指定一个avalon.scan视图的vmodels，vmodels = $ctrl.$vmodels.concact(DOM树上下文vmodels)\r\n    $ctrl.$vmodels = []\r\n})\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/homePage/homePage.js\n// module id = 29\n// module chunks = 4","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/css/homePage/homePage.css\n// module id = 30\n// module chunks = 4"],"sourceRoot":""}